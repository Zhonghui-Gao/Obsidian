1.main函数有两个参数
```C
#include <stdio.h>

//两个参数分别是 argc (参数个数) 和 argv (参数字符串数组)。
int main(int argc, char *argv)
{
	printf("共有%d参数\n", argc);
	for(int i=0; i< argc; i++)
	{
		printf("参数有%d: %s\n",i,argv[i]);
	}
	return 0;
}
```

2.static 关键字
1.修饰局部变量： 改变存储位置（栈 -> 静态数据区），延长生命周期（直到程序结束），只初始化一次。
2.修饰全局变量/函数： 限制作用域（仅在当前 .c 文件内可见），防止命名冲突。

```C
#include <stdio.h>

static int global = 100;

void count_function(){
	static iny count = 10;
	count++;
}

int main()
{
	count_function();
	count_function()
	count_function()
	return 0;
}
```

volatile: 防止编译器被优化 每次使用都去内存里重新读取，不要直接用寄存器的值
1.状态寄存器中：他的值是由硬件改变的，不是软件改的
2.中断服务函数修改的全局变量: 主程序再跑，中断修改了变量，这时候就去内存读
3.多线程共享的全局变量，一个线程修改了，另一个线程需要看到

```C
volatile int *reg = (int *) 0x4000 0000;

void wait_for_ready()
{
	while(*reg != 1); //硬件就绪
}

static volatile int is_data_ready = 0;

void interrupt_handler(){
	is_data_ready = 1;
}

void read_data() {
    while (is_data_ready == 0); // 等待中断
    // ... 读取数据
}
```


3.堆和栈的区别
![[Pasted image 20251226105725.png]]
栈区、堆区、静态区、常量区、代码区
1.栈区：存放函数的参数值、局部变量等，由编译器自动分配和释放，（高->低地址）向下的
2.堆区：就是通过new、malloc、realloc分配的内存块，编译器不会负责它们的释放工作，需要用程序区释放。分配方式类似于数据结构中的链表。“内存泄漏”通常说的就是堆区。（低->高）向上
3、静态区：全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另一块区域。程序结束后，由系统释放。
4、常量区：常量存储在这里，不允许修改。
5、代码区：顾名思义，存放代码。

4.多线程同步、信号量与互斥锁
多线程需要共享内存，需同步防止数据竞争
互斥锁：Mutex:保护临界区，一次只允许一个线程访问
信号量：Semaphore：用于控制访问资源的数量或进程同步

```C
#include <stdio.h>

```


